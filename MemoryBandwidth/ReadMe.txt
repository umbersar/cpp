code from https://www.forrestthewoods.com/blog/memory-bandwidth-napkin-math/